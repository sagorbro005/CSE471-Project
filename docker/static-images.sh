#!/bin/bash

# This script ensures that public images are correctly linked and available

# Check if public/images exists in the container
if [ ! -d "/var/www/html/public/images" ]; then
  echo "Creating /var/www/html/public/images directory"
  mkdir -p /var/www/html/public/images
fi

# Make sure public/images has correct permissions
chmod -R 755 /var/www/html/public/images

# If some directories are missing, create them
for dir in slider about payment; do
  if [ ! -d "/var/www/html/public/images/$dir" ]; then
    echo "Creating /var/www/html/public/images/$dir directory"
    mkdir -p "/var/www/html/public/images/$dir"
  fi
done

# Add placeholder images if needed
if [ ! -f "/var/www/html/public/images/slider/slide1.jpg" ]; then
  echo "Adding placeholder images for slider"
  # Create a simple placeholder image using base64
  echo "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" | base64 -d > "/var/www/html/public/images/slider/slide1.jpg"
  cp "/var/www/html/public/images/slider/slide1.jpg" "/var/www/html/public/images/slider/slide2.jpg"
  cp "/var/www/html/public/images/slider/slide1.jpg" "/var/www/html/public/images/slider/slide3.jpg"
fi

echo "Static images setup complete"
